{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      penyewa: {\n        id: null,\n        nama: '',\n        email: '',\n        no_telp: ''\n      },\n      notification: {\n        message: '',\n        type: ''\n      },\n      errors: {}\n    };\n  },\n  created() {\n    // Get the penyewa data when the component is created (e.g., from route params)\n    const penyewaId = this.$route.params.id;\n    this.fetchPenyewa(penyewaId);\n  },\n  methods: {\n    // Fetch the penyewa details\n    async fetchPenyewa(id) {\n      try {\n        const response = await axios.get(`http://127.0.0.1:5000/edit-penyewa/${id}`);\n        if (response.status === 200) {\n          this.penyewa = response.data;\n        }\n      } catch (error) {\n        this.notification = {\n          message: 'Error fetching penyewa data',\n          type: 'error'\n        };\n      }\n    },\n    // Submit the form to update penyewa\n    async submitForm() {\n      this.errors = {}; // Reset errors\n      try {\n        const response = await axios.put(`http://127.0.0.1:5000/edit-penyewa/${this.penyewa.id}`, {\n          nama: this.penyewa.nama,\n          email: this.penyewa.email,\n          no_telp: this.penyewa.no_telp\n        });\n        if (response.status === 200) {\n          this.notification = {\n            message: 'Penyewa updated successfully!',\n            type: 'success'\n          };\n        }\n      } catch (error) {\n        if (error.response && error.response.data) {\n          const {\n            error: errorMessage\n          } = error.response.data;\n          this.notification = {\n            message: errorMessage,\n            type: 'error'\n          };\n        } else {\n          this.notification = {\n            message: 'An error occurred!',\n            type: 'error'\n          };\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","penyewa","id","nama","email","no_telp","notification","message","type","errors","created","penyewaId","$route","params","fetchPenyewa","methods","response","get","status","error","submitForm","put","errorMessage"],"sources":["D:\\SEMESTER 5\\Proyek\\Web_Kost\\frontend\\src\\views\\EditPenyewa.vue"],"sourcesContent":["<template>\r\n    <div class=\"content\">\r\n      <div class=\"col-md-8\">\r\n        <div class=\"card card-user\">\r\n          <div class=\"card-header\">\r\n            <h5 class=\"card-title\">Edit Penyewa</h5>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <!-- Notifikasi -->\r\n            <div v-if=\"notification.message\" :class=\"['notification', notification.type]\">\r\n              {{ notification.message }}\r\n            </div>\r\n  \r\n            <form @submit.prevent=\"submitForm\">\r\n              <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                  <div class=\"form-group\">\r\n                    <label>Nama</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"Nama\"\r\n                      v-model=\"penyewa.nama\"\r\n                      :class=\"{'is-invalid': errors.nama}\"\r\n                      required\r\n                    />\r\n                    <div v-if=\"errors.nama\" class=\"invalid-feedback\">{{ errors.nama }}</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                  <div class=\"form-group\">\r\n                    <label>Email</label>\r\n                    <input\r\n                      type=\"email\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"Email\"\r\n                      v-model=\"penyewa.email\"\r\n                      :class=\"{'is-invalid': errors.email}\"\r\n                      required\r\n                    />\r\n                    <div v-if=\"errors.email\" class=\"invalid-feedback\">{{ errors.email }}</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                  <div class=\"form-group\">\r\n                    <label>Phone</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"Phone\"\r\n                      v-model=\"penyewa.no_telp\"\r\n                      :class=\"{'is-invalid': errors.no_telp}\"\r\n                      required\r\n                    />\r\n                    <div v-if=\"errors.no_telp\" class=\"invalid-feedback\">{{ errors.no_telp }}</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"row\">\r\n                <div class=\"update ml-auto mr-auto\">\r\n                  <button type=\"submit\" class=\"btn btn-update-profile btn-round\">Edit Penyewa</button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios';\r\n  \r\n  export default {\r\n    data() {\r\n      return {\r\n        penyewa: {\r\n          id: null,\r\n          nama: '',\r\n          email: '',\r\n          no_telp: ''\r\n        },\r\n        notification: {\r\n          message: '',\r\n          type: ''\r\n        },\r\n        errors: {}\r\n      };\r\n    },\r\n    created() {\r\n      // Get the penyewa data when the component is created (e.g., from route params)\r\n      const penyewaId = this.$route.params.id;\r\n      this.fetchPenyewa(penyewaId);\r\n    },\r\n    methods: {\r\n      // Fetch the penyewa details\r\n      async fetchPenyewa(id) {\r\n        try {\r\n          const response = await axios.get(`http://127.0.0.1:5000/edit-penyewa/${id}`);\r\n          if (response.status === 200) {\r\n            this.penyewa = response.data;\r\n          }\r\n        } catch (error) {\r\n          this.notification = { message: 'Error fetching penyewa data', type: 'error' };\r\n        }\r\n      },\r\n  \r\n      // Submit the form to update penyewa\r\n      async submitForm() {\r\n        this.errors = {}; // Reset errors\r\n        try {\r\n          const response = await axios.put(`http://127.0.0.1:5000/edit-penyewa/${this.penyewa.id}`, {\r\n            nama: this.penyewa.nama,\r\n            email: this.penyewa.email,\r\n            no_telp: this.penyewa.no_telp\r\n          });\r\n  \r\n          if (response.status === 200) {\r\n            this.notification = { message: 'Penyewa updated successfully!', type: 'success' };\r\n          }\r\n        } catch (error) {\r\n          if (error.response && error.response.data) {\r\n            const { error: errorMessage } = error.response.data;\r\n            this.notification = { message: errorMessage, type: 'error' };\r\n          } else {\r\n            this.notification = { message: 'An error occurred!', type: 'error' };\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  /* Optional CSS styling for the form */\r\n  .notification {\r\n    margin-bottom: 10px;\r\n    padding: 10px;\r\n    border-radius: 5px;\r\n  }\r\n  .notification.success {\r\n    background-color: #28a745;\r\n    color: white;\r\n  }\r\n  .notification.error {\r\n    background-color: #dc3545;\r\n    color: white;\r\n  }\r\n  </style>\r\n  "],"mappings":"AA2EE,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,OAAO,EAAE;QACPC,EAAE,EAAE,IAAI;QACRC,IAAI,EAAE,EAAE;QACRC,KAAK,EAAE,EAAE;QACTC,OAAO,EAAE;MACX,CAAC;MACDC,YAAY,EAAE;QACZC,OAAO,EAAE,EAAE;QACXC,IAAI,EAAE;MACR,CAAC;MACDC,MAAM,EAAE,CAAC;IACX,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR;IACA,MAAMC,SAAQ,GAAI,IAAI,CAACC,MAAM,CAACC,MAAM,CAACX,EAAE;IACvC,IAAI,CAACY,YAAY,CAACH,SAAS,CAAC;EAC9B,CAAC;EACDI,OAAO,EAAE;IACP;IACA,MAAMD,YAAYA,CAACZ,EAAE,EAAE;MACrB,IAAI;QACF,MAAMc,QAAO,GAAI,MAAMjB,KAAK,CAACkB,GAAG,CAAC,sCAAsCf,EAAE,EAAE,CAAC;QAC5E,IAAIc,QAAQ,CAACE,MAAK,KAAM,GAAG,EAAE;UAC3B,IAAI,CAACjB,OAAM,GAAIe,QAAQ,CAAChB,IAAI;QAC9B;MACF,EAAE,OAAOmB,KAAK,EAAE;QACd,IAAI,CAACb,YAAW,GAAI;UAAEC,OAAO,EAAE,6BAA6B;UAAEC,IAAI,EAAE;QAAQ,CAAC;MAC/E;IACF,CAAC;IAED;IACA,MAAMY,UAAUA,CAAA,EAAG;MACjB,IAAI,CAACX,MAAK,GAAI,CAAC,CAAC,EAAE;MAClB,IAAI;QACF,MAAMO,QAAO,GAAI,MAAMjB,KAAK,CAACsB,GAAG,CAAC,sCAAsC,IAAI,CAACpB,OAAO,CAACC,EAAE,EAAE,EAAE;UACxFC,IAAI,EAAE,IAAI,CAACF,OAAO,CAACE,IAAI;UACvBC,KAAK,EAAE,IAAI,CAACH,OAAO,CAACG,KAAK;UACzBC,OAAO,EAAE,IAAI,CAACJ,OAAO,CAACI;QACxB,CAAC,CAAC;QAEF,IAAIW,QAAQ,CAACE,MAAK,KAAM,GAAG,EAAE;UAC3B,IAAI,CAACZ,YAAW,GAAI;YAAEC,OAAO,EAAE,+BAA+B;YAAEC,IAAI,EAAE;UAAU,CAAC;QACnF;MACF,EAAE,OAAOW,KAAK,EAAE;QACd,IAAIA,KAAK,CAACH,QAAO,IAAKG,KAAK,CAACH,QAAQ,CAAChB,IAAI,EAAE;UACzC,MAAM;YAAEmB,KAAK,EAAEG;UAAa,IAAIH,KAAK,CAACH,QAAQ,CAAChB,IAAI;UACnD,IAAI,CAACM,YAAW,GAAI;YAAEC,OAAO,EAAEe,YAAY;YAAEd,IAAI,EAAE;UAAQ,CAAC;QAC9D,OAAO;UACL,IAAI,CAACF,YAAW,GAAI;YAAEC,OAAO,EAAE,oBAAoB;YAAEC,IAAI,EAAE;UAAQ,CAAC;QACtE;MACF;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}