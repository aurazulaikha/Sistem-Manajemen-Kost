{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      penyewa: {\n        id: \"\",\n        nama: \"\",\n        email: \"\",\n        no_telp: \"\"\n      },\n      notification: {\n        message: \"\",\n        type: \"\"\n      },\n      errors: {},\n      isLoading: false\n    };\n  },\n  created() {\n    const penyewaId = this.$route.params.id;\n    if (penyewaId) {\n      this.getPenyewaData(penyewaId);\n    } else {\n      console.error(\"Penyewa ID tidak ditemukan\");\n    }\n  },\n  methods: {\n    async getPenyewaData(penyewaId) {\n      try {\n        this.isLoading = true;\n        const response = await axios.get(`http://127.0.0.1:5000/edit-penyewa/${penyewaId}`);\n        this.penyewa = response.data || {};\n        this.isLoading = false;\n      } catch (error) {\n        this.notification.message = \"Gagal mengambil data penyewa\";\n        this.notification.type = \"alert-danger\";\n        console.error(error);\n        this.isLoading = false;\n      }\n    },\n    async submitForm() {\n      this.errors = {};\n      if (!this.penyewa.nama) {\n        this.errors.nama = \"Nama tidak boleh kosong\";\n      }\n      if (!this.penyewa.email) {\n        this.errors.email = \"Email tidak boleh kosong\";\n      } else if (!this.isValidEmail(this.penyewa.email)) {\n        this.errors.email = \"Format email tidak valid\";\n      }\n      if (!this.penyewa.no_telp) {\n        this.errors.no_telp = \"Nomor telepon tidak boleh kosong\";\n      } else if (!/^\\d+$/.test(this.penyewa.no_telp)) {\n        this.errors.no_telp = \"Nomor telepon harus berupa angka\";\n      }\n      if (Object.keys(this.errors).length > 0) {\n        return;\n      }\n      try {\n        this.isLoading = true;\n        await axios.put(`http://127.0.0.1:5000/edit-penyewa/${this.penyewa.id}`, this.penyewa);\n        this.notification.message = \"Data Penyewa berhasil diperbarui!\";\n        this.notification.type = \"alert-success\";\n        setTimeout(() => this.$router.push(\"/list-penyewa\"), 2000);\n        this.isLoading = false;\n      } catch (error) {\n        this.notification.message = \"Data gagal diperbarui!\";\n        this.notification.type = \"alert-danger\";\n        console.error(error);\n        this.isLoading = false;\n      }\n    },\n    isValidEmail(email) {\n      const regex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,6}$/;\n      return regex.test(email);\n    }\n  }\n};","map":{"version":3,"names":["axios","data","penyewa","id","nama","email","no_telp","notification","message","type","errors","isLoading","created","penyewaId","$route","params","getPenyewaData","console","error","methods","response","get","submitForm","isValidEmail","test","Object","keys","length","put","setTimeout","$router","push","regex"],"sources":["D:\\SEMESTER 5\\Proyek\\Web_Kost\\frontend\\src\\views\\EditPenyewa.vue"],"sourcesContent":["<template>\r\n    <div class=\"content\">\r\n      <div class=\"col-md-8 mx-auto\">\r\n        <div class=\"card card-user\">\r\n          <div class=\"card-header\">\r\n            <h5 class=\"card-title\">Edit Penyewa</h5>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <!-- Notifikasi -->\r\n            <div v-if=\"notification.message\" :class=\"['notification', notification.type]\">\r\n              {{ notification.message }}\r\n            </div>\r\n  \r\n            <form @submit.prevent=\"submitForm\">\r\n              <!-- Nama -->\r\n              <div class=\"form-group\">\r\n                <label>Nama</label>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Nama\"\r\n                  v-model=\"penyewa.nama\"\r\n                  :class=\"{'is-invalid': errors.nama}\"\r\n                  required\r\n                />\r\n                <div v-if=\"errors.nama\" class=\"invalid-feedback\">{{ errors.nama }}</div>\r\n              </div>\r\n  \r\n              <!-- Email -->\r\n              <div class=\"form-group\">\r\n                <label>Email</label>\r\n                <input\r\n                  type=\"email\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Email\"\r\n                  v-model=\"penyewa.email\"\r\n                  :class=\"{'is-invalid': errors.email}\"\r\n                  required\r\n                />\r\n                <div v-if=\"errors.email\" class=\"invalid-feedback\">{{ errors.email }}</div>\r\n              </div>\r\n  \r\n              <!-- Nomor Telepon -->\r\n              <div class=\"form-group\">\r\n                <label>Phone</label>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Phone\"\r\n                  v-model=\"penyewa.no_telp\"\r\n                  :class=\"{'is-invalid': errors.no_telp}\"\r\n                  required\r\n                />\r\n                <div v-if=\"errors.no_telp\" class=\"invalid-feedback\">{{ errors.no_telp }}</div>\r\n              </div>\r\n  \r\n              <!-- Tombol Submit -->\r\n              <div class=\"form-group text-center\">\r\n                <button\r\n                  type=\"submit\"\r\n                  class=\"btn btn-primary btn-round\"\r\n                  :disabled=\"isLoading\"\r\n                >\r\n                  <span v-if=\"isLoading\" class=\"spinner-border spinner-border-sm\" role=\"status\"></span>\r\n                  Edit Penyewa\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from \"axios\";\r\n  \r\n  export default {\r\n    data() {\r\n      return {\r\n        penyewa: {\r\n          id: \"\",\r\n          nama: \"\",\r\n          email: \"\",\r\n          no_telp: \"\",\r\n        },\r\n        notification: {\r\n          message: \"\",\r\n          type: \"\",\r\n        },\r\n        errors: {},\r\n        isLoading: false,\r\n      };\r\n    },\r\n    created() {\r\n      const penyewaId = this.$route.params.id;\r\n      if (penyewaId) {\r\n        this.getPenyewaData(penyewaId);\r\n      } else {\r\n        console.error(\"Penyewa ID tidak ditemukan\");\r\n      }\r\n    },\r\n    methods: {\r\n      async getPenyewaData(penyewaId) {\r\n        try {\r\n          this.isLoading = true;\r\n          const response = await axios.get(`http://127.0.0.1:5000/edit-penyewa/${penyewaId}`);\r\n          this.penyewa = response.data || {};\r\n          this.isLoading = false;\r\n        } catch (error) {\r\n          this.notification.message = \"Gagal mengambil data penyewa\";\r\n          this.notification.type = \"alert-danger\";\r\n          console.error(error);\r\n          this.isLoading = false;\r\n        }\r\n      },\r\n      async submitForm() {\r\n        this.errors = {};\r\n        if (!this.penyewa.nama) {\r\n          this.errors.nama = \"Nama tidak boleh kosong\";\r\n        }\r\n        if (!this.penyewa.email) {\r\n          this.errors.email = \"Email tidak boleh kosong\";\r\n        } else if (!this.isValidEmail(this.penyewa.email)) {\r\n          this.errors.email = \"Format email tidak valid\";\r\n        }\r\n        if (!this.penyewa.no_telp) {\r\n          this.errors.no_telp = \"Nomor telepon tidak boleh kosong\";\r\n        } else if (!/^\\d+$/.test(this.penyewa.no_telp)) {\r\n          this.errors.no_telp = \"Nomor telepon harus berupa angka\";\r\n        }\r\n  \r\n        if (Object.keys(this.errors).length > 0) {\r\n          return;\r\n        }\r\n  \r\n        try {\r\n          this.isLoading = true;\r\n          await axios.put(`http://127.0.0.1:5000/edit-penyewa/${this.penyewa.id}`, this.penyewa);\r\n          this.notification.message = \"Data Penyewa berhasil diperbarui!\";\r\n          this.notification.type = \"alert-success\";\r\n          setTimeout(() => this.$router.push(\"/list-penyewa\"), 2000);\r\n          this.isLoading = false;\r\n        } catch (error) {\r\n          this.notification.message = \"Data gagal diperbarui!\";\r\n          this.notification.type = \"alert-danger\";\r\n          console.error(error);\r\n          this.isLoading = false;\r\n        }\r\n      },\r\n      isValidEmail(email) {\r\n        const regex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,6}$/;\r\n        return regex.test(email);\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .notification {\r\n    padding: 10px;\r\n    margin-bottom: 15px;\r\n    border-radius: 5px;\r\n  }\r\n  .alert-success {\r\n    color: #155724;\r\n    background-color: #d4edda;\r\n    border-color: #c3e6cb;\r\n  }\r\n  .alert-danger {\r\n    color: #721c24;\r\n    background-color: #f8d7da;\r\n    border-color: #f5c6cb;\r\n  }\r\n  .is-invalid {\r\n    border-color: #e3342f;\r\n  }\r\n  .invalid-feedback {\r\n    color: #e3342f;\r\n    font-size: 0.875em;\r\n  }\r\n  </style>\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}