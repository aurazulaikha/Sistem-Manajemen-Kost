{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport FooterView from './components/FooterView.vue';\nimport NavbarView from './components/NavbarView.vue';\nimport SidebarView from './components/SidebarView.vue';\nexport default {\n  name: 'App',\n  components: {\n    FooterView,\n    NavbarView,\n    SidebarView\n  },\n  data() {\n    return {\n      userRole: '' // Variabel untuk menyimpan role user\n    };\n  },\n  created() {\n    this.setUserRole(); // Tentukan userRole saat komponen dibuat\n    console.log('User Role Set on Created Hook:', this.userRole);\n  },\n  methods: {\n    logout() {\n      localStorage.removeItem('role');\n      localStorage.removeItem('token');\n      this.updateRoleAfterLogout(); // Mengupdate role setelah logout\n      this.$router.push({\n        name: 'LoginPage'\n      }); // Redirect ke halaman login\n    },\n    setUserRole() {\n      const rolesFromRoute = this.$route.params.roles || '';\n      const validRoles = ['admin', 'pemilik', 'penyewa'];\n      if (validRoles.includes(rolesFromRoute)) {\n        this.userRole = rolesFromRoute;\n        localStorage.setItem('role', rolesFromRoute);\n      } else {\n        const storedRole = localStorage.getItem('role');\n        if (validRoles.includes(storedRole)) {\n          this.userRole = storedRole;\n        } else {\n          this.userRole = 'penyewa'; // Default role\n        }\n      }\n      console.log('Current User Role:', this.userRole);\n    },\n    updateRoleAfterLogout() {\n      this.userRole = 'penyewa'; // Setelah logout, set role default sebagai penyewa\n      localStorage.setItem('role', 'penyewa'); // Simpan role default ke localStorage\n    }\n  },\n  watch: {\n    '$route.path'() {\n      this.setUserRole();\n    }\n  }\n};","map":{"version":3,"names":["FooterView","NavbarView","SidebarView","name","components","data","userRole","created","setUserRole","console","log","methods","logout","localStorage","removeItem","updateRoleAfterLogout","$router","push","rolesFromRoute","$route","params","roles","validRoles","includes","setItem","storedRole","getItem","watch","$route.path"],"sources":["D:\\SEMESTER 5\\Proyek\\Kost\\frontend\\src\\App.vue"],"sourcesContent":["<template>\n  <div>\n    <!-- Layout utama untuk halaman selain login, register, dan landing -->\n    <div v-if=\"$route.path !== '/login' && $route.path !== '/register' && $route.path !== '/' && $route.path !== '/reset-password'\">\n      <div class=\"wrapper\">\n        <div class=\"sidebar\" data-color=\"white\" data-active-color=\"danger\">\n          <div class=\"logo\">\n            <div class=\"logo-container\">\n              <div class=\"logo-image-small\">\n                <img src=\"assets/img/kostLogo.png\" alt=\"Logo Kost\" />\n              </div>\n              <div class=\"logo-text\">Kos Letter U</div>\n            </div>\n          </div>\n          <!-- Sidebar dengan role yang benar -->\n          <SidebarView :roles=\"userRole\" />\n        </div>\n        <div class=\"main-panel\">\n          <NavbarView />\n          <router-view />\n          <FooterView />\n        </div>\n      </div>\n    </div>\n\n    <!-- Layout sederhana untuk login, register, dan landing -->\n    <div v-else>\n      <router-view />\n    </div>\n  </div>\n</template>\n\n<script>\nimport FooterView from './components/FooterView.vue';\nimport NavbarView from './components/NavbarView.vue'\nimport SidebarView from './components/SidebarView.vue';\n\nexport default {\n  name: 'App',\n  components: {\n    FooterView,\n    NavbarView,\n    SidebarView\n  },\n  data() {\n    return {\n      userRole: '', // Variabel untuk menyimpan role user\n    };\n  },\n  created() {\n    this.setUserRole(); // Tentukan userRole saat komponen dibuat\n    console.log('User Role Set on Created Hook:', this.userRole);\n  },\n  methods: {\n    logout() {\n      localStorage.removeItem('role');\n      localStorage.removeItem('token');\n      this.updateRoleAfterLogout(); // Mengupdate role setelah logout\n      this.$router.push({ name: 'LoginPage' }); // Redirect ke halaman login\n    },\n    setUserRole() {\n      const rolesFromRoute = this.$route.params.roles || '';\n      const validRoles = ['admin', 'pemilik', 'penyewa'];\n\n      if (validRoles.includes(rolesFromRoute)) {\n        this.userRole = rolesFromRoute;\n        localStorage.setItem('role', rolesFromRoute);\n      } else {\n        const storedRole = localStorage.getItem('role');\n        if (validRoles.includes(storedRole)) {\n          this.userRole = storedRole;\n        } else {\n          this.userRole = 'penyewa'; // Default role\n        }\n      }\n      console.log('Current User Role:', this.userRole);\n    },\n    updateRoleAfterLogout() {\n      this.userRole = 'penyewa'; // Setelah logout, set role default sebagai penyewa\n      localStorage.setItem('role', 'penyewa'); // Simpan role default ke localStorage\n    }\n  },\n  watch: {\n    '$route.path'() {\n      this.setUserRole();\n    },\n  },\n};\n</script>\n\n\n<style scoped>\n.logo-container {\n  display: flex;\n  align-items: center;\n}\n\n.logo-image-small img {\n  width: 30px;\n  height: auto;\n  margin-right: 8px;\n}\n\n.logo-text {\n  font-size: 18px;\n  font-weight: bold;\n  color: #75276d;\n}\n</style>\n"],"mappings":";AAiCA,OAAOA,UAAS,MAAO,6BAA6B;AACpD,OAAOC,UAAS,MAAO,6BAA4B;AACnD,OAAOC,WAAU,MAAO,8BAA8B;AAEtD,eAAe;EACbC,IAAI,EAAE,KAAK;EACXC,UAAU,EAAE;IACVJ,UAAU;IACVC,UAAU;IACVC;EACF,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE,CAAE;IAChB,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,WAAW,CAAC,CAAC,EAAE;IACpBC,OAAO,CAACC,GAAG,CAAC,gCAAgC,EAAE,IAAI,CAACJ,QAAQ,CAAC;EAC9D,CAAC;EACDK,OAAO,EAAE;IACPC,MAAMA,CAAA,EAAG;MACPC,YAAY,CAACC,UAAU,CAAC,MAAM,CAAC;MAC/BD,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;MAChC,IAAI,CAACC,qBAAqB,CAAC,CAAC,EAAE;MAC9B,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;QAAEd,IAAI,EAAE;MAAY,CAAC,CAAC,EAAE;IAC5C,CAAC;IACDK,WAAWA,CAAA,EAAG;MACZ,MAAMU,cAAa,GAAI,IAAI,CAACC,MAAM,CAACC,MAAM,CAACC,KAAI,IAAK,EAAE;MACrD,MAAMC,UAAS,GAAI,CAAC,OAAO,EAAE,SAAS,EAAE,SAAS,CAAC;MAElD,IAAIA,UAAU,CAACC,QAAQ,CAACL,cAAc,CAAC,EAAE;QACvC,IAAI,CAACZ,QAAO,GAAIY,cAAc;QAC9BL,YAAY,CAACW,OAAO,CAAC,MAAM,EAAEN,cAAc,CAAC;MAC9C,OAAO;QACL,MAAMO,UAAS,GAAIZ,YAAY,CAACa,OAAO,CAAC,MAAM,CAAC;QAC/C,IAAIJ,UAAU,CAACC,QAAQ,CAACE,UAAU,CAAC,EAAE;UACnC,IAAI,CAACnB,QAAO,GAAImB,UAAU;QAC5B,OAAO;UACL,IAAI,CAACnB,QAAO,GAAI,SAAS,EAAE;QAC7B;MACF;MACAG,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAE,IAAI,CAACJ,QAAQ,CAAC;IAClD,CAAC;IACDS,qBAAqBA,CAAA,EAAG;MACtB,IAAI,CAACT,QAAO,GAAI,SAAS,EAAE;MAC3BO,YAAY,CAACW,OAAO,CAAC,MAAM,EAAE,SAAS,CAAC,EAAE;IAC3C;EACF,CAAC;EACDG,KAAK,EAAE;IACL,aAAaC,CAAA,EAAG;MACd,IAAI,CAACpB,WAAW,CAAC,CAAC;IACpB;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}