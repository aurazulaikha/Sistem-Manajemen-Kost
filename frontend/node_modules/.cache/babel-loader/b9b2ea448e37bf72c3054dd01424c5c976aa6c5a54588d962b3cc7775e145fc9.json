{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, Fragment as _Fragment, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  key: 0\n};\nconst _hoisted_2 = {\n  class: \"wrapper\"\n};\nconst _hoisted_3 = {\n  class: \"sidebar\",\n  \"data-color\": \"white\",\n  \"data-active-color\": \"danger\"\n};\nconst _hoisted_4 = {\n  class: \"main-panel\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_SidebarView = _resolveComponent(\"SidebarView\");\n  const _component_NavbarView = _resolveComponent(\"NavbarView\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  const _component_FooterView = _resolveComponent(\"FooterView\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createCommentVNode(\" Layout utama untuk halaman selain login, register, dan landing \"), _ctx.$route.path !== '/login' && _ctx.$route.path !== '/register' && _ctx.$route.path !== '/' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_cache[0] || (_cache[0] = _createStaticVNode(\"<div class=\\\"logo\\\" data-v-7ba5bd90><div class=\\\"logo-container\\\" data-v-7ba5bd90><div class=\\\"logo-image-small\\\" data-v-7ba5bd90><img src=\\\"assets/img/kostLogo.png\\\" alt=\\\"Logo Kost\\\" data-v-7ba5bd90></div><div class=\\\"logo-text\\\" data-v-7ba5bd90>Kos Letter U</div></div></div>\", 1)), _createCommentVNode(\" Sidebar dengan role yang benar \"), _createVNode(_component_SidebarView, {\n    roles: $data.userRole\n  }, null, 8 /* PROPS */, [\"roles\"])]), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_NavbarView), _createVNode(_component_router_view), _createVNode(_component_FooterView)])])])) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" Layout sederhana untuk login, register, dan landing \"), _createElementVNode(\"div\", null, [_createVNode(_component_router_view)])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))]);\n}","map":{"version":3,"names":["key","class","_createElementBlock","_createCommentVNode","_ctx","$route","path","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_createStaticVNode","_createVNode","_component_SidebarView","roles","$data","userRole","_hoisted_4","_component_NavbarView","_component_router_view","_component_FooterView","_Fragment"],"sources":["D:\\SEMESTER 5\\Proyek\\Kost\\frontend\\src\\App.vue"],"sourcesContent":["<template>\n  <div>\n    <!-- Layout utama untuk halaman selain login, register, dan landing -->\n    <div v-if=\"$route.path !== '/login' && $route.path !== '/register' && $route.path !== '/'\">\n      <div class=\"wrapper\">\n        <div class=\"sidebar\" data-color=\"white\" data-active-color=\"danger\">\n          <div class=\"logo\">\n            <div class=\"logo-container\">\n              <div class=\"logo-image-small\">\n                <img src=\"assets/img/kostLogo.png\" alt=\"Logo Kost\" />\n              </div>\n              <div class=\"logo-text\">Kos Letter U</div>\n            </div>\n          </div>\n          <!-- Sidebar dengan role yang benar -->\n          <SidebarView :roles=\"userRole\" />\n        </div>\n        <div class=\"main-panel\">\n          <NavbarView />\n          <router-view />\n          <FooterView />\n        </div>\n      </div>\n    </div>\n\n    <!-- Layout sederhana untuk login, register, dan landing -->\n    <div v-else>\n      <router-view />\n    </div>\n  </div>\n</template>\n\n<script>\nimport FooterView from './components/FooterView.vue';\nimport NavbarView from './components/NavbarView.vue'\nimport SidebarView from './components/SidebarView.vue';\n\nexport default {\n  name: 'App',\n  components: {\n    FooterView,\n    NavbarView,\n    SidebarView\n  },\n  data() {\n    return {\n      userRole: '', // Variabel untuk menyimpan role user\n    };\n  },\n  created() {\n    this.setUserRole(); // Tentukan userRole saat komponen dibuat\n    console.log('User Role Set on Created Hook:', this.userRole);\n  },\n  methods: {\n    logout() {\n      localStorage.removeItem('role');\n      localStorage.removeItem('token');\n      this.updateRoleAfterLogout(); // Mengupdate role setelah logout\n      this.$router.push({ name: 'LoginPage' }); // Redirect ke halaman login\n    },\n    setUserRole() {\n      const rolesFromRoute = this.$route.params.roles || '';\n      const validRoles = ['admin', 'pemilik', 'penyewa'];\n\n      if (validRoles.includes(rolesFromRoute)) {\n        this.userRole = rolesFromRoute;\n        localStorage.setItem('role', rolesFromRoute);\n      } else {\n        const storedRole = localStorage.getItem('role');\n        if (validRoles.includes(storedRole)) {\n          this.userRole = storedRole;\n        } else {\n          this.userRole = 'penyewa'; // Default role\n        }\n      }\n      console.log('Current User Role:', this.userRole);\n    },\n    updateRoleAfterLogout() {\n      this.userRole = 'penyewa'; // Setelah logout, set role default sebagai penyewa\n      localStorage.setItem('role', 'penyewa'); // Simpan role default ke localStorage\n    }\n  },\n  watch: {\n    '$route.path'() {\n      this.setUserRole();\n    },\n  },\n};\n</script>\n\n\n<style scoped>\n.logo-container {\n  display: flex;\n  align-items: center;\n}\n\n.logo-image-small img {\n  width: 30px;\n  height: auto;\n  margin-right: 8px;\n}\n\n.logo-text {\n  font-size: 18px;\n  font-weight: bold;\n  color: #75276d;\n}\n</style>\n"],"mappings":";;EAAAA,GAAA;AAAA;;EAIWC,KAAK,EAAC;AAAS;;EACbA,KAAK,EAAC,SAAS;EAAC,YAAU,EAAC,OAAO;EAAC,mBAAiB,EAAC;;;EAYrDA,KAAK,EAAC;AAAY;;;;;;uBAhB7BC,mBAAA,CA4BM,cA3BJC,mBAAA,oEAAuE,EAC5DC,IAAA,CAAAC,MAAM,CAACC,IAAI,iBAAiBF,IAAA,CAAAC,MAAM,CAACC,IAAI,oBAAoBF,IAAA,CAAAC,MAAM,CAACC,IAAI,Y,cAAjFJ,mBAAA,CAoBM,OAvBVK,UAAA,GAIMC,mBAAA,CAkBM,OAlBNC,UAkBM,GAjBJD,mBAAA,CAWM,OAXNE,UAWM,G,0BAhBdC,kBAAA,gSAcUR,mBAAA,oCAAuC,EACvCS,YAAA,CAAiCC,sBAAA;IAAnBC,KAAK,EAAEC,KAAA,CAAAC;EAAQ,mC,GAE/BR,mBAAA,CAIM,OAJNS,UAIM,GAHJL,YAAA,CAAcM,qBAAA,GACdN,YAAA,CAAeO,sBAAA,GACfP,YAAA,CAAcQ,qBAAA,E,wBAMpBlB,mBAAA,CAEMmB,SAAA;IA5BVrB,GAAA;EAAA,IAyBIG,mBAAA,yDAA4D,EAC5DK,mBAAA,CAEM,cADJI,YAAA,CAAeO,sBAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}